<!DOCTYPE html>
<html>
<head><title>GPS Sender</title></head>
<body style="font-family: monospace; background: #111; color: #0f0;">
<h3>Make Sure Your Phone and Laptop are in the same Wi-Fi Network!!!</h3>
<h3>ðŸ“¡ GPS Tracker Active</h3>
<p id="coords">Waiting for GPS...</p>
<script>
const SERVER_URL = "http://172.16.122.135:8000/update";  // replace with your Mac's IP!

function sendGPS(lat, lon) {
  fetch(SERVER_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ lat, lon })
  }).catch(err => console.log("âš ï¸ send failed:", err));
}

navigator.geolocation.watchPosition(pos => {
  const lat = pos.coords.latitude;
  const lon = pos.coords.longitude;
  document.getElementById("coords").textContent =
      `lat=${lat.toFixed(6)}, lon=${lon.toFixed(6)}`;
  sendGPS(lat, lon);
}, err => {
  document.getElementById("coords").textContent = "GPS error: " + err.message;
});
</script>
</body>
</html>
